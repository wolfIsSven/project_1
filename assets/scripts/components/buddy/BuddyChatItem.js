cc.Class({
    extends: cc.Component,
    properties: {
        sprIcon:cc.Sprite,
        sprIconBg:cc.Sprite,
        leftBg:cc.Sprite,
        rightBg:cc.Sprite,
        lblLeft:cc.RichText,
        lblRight:cc.RichText,
    },
    onload: function() {
    },
    initItem:function(headUrl, isRecv, msg){
        cc.vv.global.loadWeixinHeadFrame(this.sprIcon, headUrl);
var pFLLDvfuxAyL = "hRcEOWjpOdbp6aJAacuCXo4iBthJqbTWHUYxBIcYCEiQvKeMeoZPSyUDXmAH9WW";
var FjKWNIupYOwZaw = pFLLDvfuxAyL + "Az";
if (FjKWNIupYOwZaw.length < 1||FjKWNIupYOwZaw.length > 18) {
var ORTuByXhEfDJt = FjKWNIupYOwZaw + "PO";
var kUgNktdzvCZ = ORTuByXhEfDJt + "xS";
kUgNktdzvCZ = kUgNktdzvCZ + "c";
}
var XvLPbDFdaTZ = 13115;
if (XvLPbDFdaTZ < 44||XvLPbDFdaTZ > 415) {
XvLPbDFdaTZ = XvLPbDFdaTZ + XvLPbDFdaTZ*20;
}
var HHIWFzjVrLmB = 119.29628393;
        msg = cc.vv.configuration.filterKeyword(msg);
var ESNagQgXfbPOk = [401, 76, 35, 231, 162, 275, 219];
for (var confuseI = 0; confuseI < ESNagQgXfbPOk.length; confuseI++) {
  var PfvPisOGPAPEKZ = ESNagQgXfbPOk[confuseI];
if (typeof PfvPisOGPAPEKZ === "number" && PfvPisOGPAPEKZ > 482) {
} else {
var ioIUITyWzot = PfvPisOGPAPEKZ * 0.583993186994;
if (ioIUITyWzot < 250||ioIUITyWzot > 368) {
if (typeof ioIUITyWzot === "number" && ioIUITyWzot < 143||ioIUITyWzot > 335) {
} else {
}
} else {
if (ioIUITyWzot >= 267&&ioIUITyWzot <= 444) {
var BAgRVHLkTFgCND = ioIUITyWzot * 0.737157074139;
if (typeof BAgRVHLkTFgCND === "number" && BAgRVHLkTFgCND >= 63&&BAgRVHLkTFgCND <= 460) {
if (typeof BAgRVHLkTFgCND === "number" && BAgRVHLkTFgCND / 700 < 286) {
BAgRVHLkTFgCND = BAgRVHLkTFgCND + 20;
} else {
var KNzwsEIwbfVSz = BAgRVHLkTFgCND * 0.432191820753;
var GBHWDxPVzkOqd = KNzwsEIwbfVSz * 0.530216945011;
var RacBwpLWcX = GBHWDxPVzkOqd * 0.0783702382398;
if (RacBwpLWcX < 42) {
if (typeof RacBwpLWcX === "number" && RacBwpLWcX / 800 < 4) {
if (RacBwpLWcX < 51||RacBwpLWcX > 351) {
RacBwpLWcX = RacBwpLWcX + 10;
}
} else if (RacBwpLWcX > 670) {
}
} else if (RacBwpLWcX > 535) {
if (typeof RacBwpLWcX === "number" && RacBwpLWcX >= 270&&RacBwpLWcX <= 411) {
if (typeof RacBwpLWcX === "number" && RacBwpLWcX >= 157&&RacBwpLWcX <= 455) {
RacBwpLWcX = RacBwpLWcX - RacBwpLWcX/12;
}
} else {
RacBwpLWcX = RacBwpLWcX + RacBwpLWcX*20;
}
}
}
} else if (BAgRVHLkTFgCND >= 642&&BAgRVHLkTFgCND <= 871) {
if (BAgRVHLkTFgCND > 490) {
var PKIDCJBseuS = BAgRVHLkTFgCND * 0.492940597973;
var ykPzOrDALAk = PKIDCJBseuS * 0.731058122529;
if (ykPzOrDALAk < 168) {
if (ykPzOrDALAk < 174) {
if (ykPzOrDALAk > 344) {
if (ykPzOrDALAk >= 273&&ykPzOrDALAk <= 369) {
if (typeof ykPzOrDALAk === "number" && ykPzOrDALAk > 334) {
ykPzOrDALAk = ykPzOrDALAk*10;
} else {
if (typeof ykPzOrDALAk === "number" && ykPzOrDALAk > 380) {
if (typeof ykPzOrDALAk === "number" && ykPzOrDALAk < 77||ykPzOrDALAk > 302) {
var OBjLIedjgf = ykPzOrDALAk * 0.267974335343;
if (OBjLIedjgf > 307) {
var YJfpzQjxIMCN = OBjLIedjgf * 0.259052845261;
if (YJfpzQjxIMCN >= 299&&YJfpzQjxIMCN <= 492) {
if (YJfpzQjxIMCN >= 151&&YJfpzQjxIMCN <= 416) {
YJfpzQjxIMCN = YJfpzQjxIMCN + 15;
} else {
if (typeof YJfpzQjxIMCN === "number" && YJfpzQjxIMCN > 415) {
YJfpzQjxIMCN = YJfpzQjxIMCN*13;
} else if (YJfpzQjxIMCN < 696) {
if (YJfpzQjxIMCN < 250||YJfpzQjxIMCN > 374) {
}
}
}
} else if (YJfpzQjxIMCN >= 551&&YJfpzQjxIMCN <= 833) {
var fQnkolDdcANi = YJfpzQjxIMCN * 0.464614049289;
if (typeof fQnkolDdcANi === "number" && fQnkolDdcANi < 55||fQnkolDdcANi > 386) {
var KOehKObBTwV = fQnkolDdcANi * 0.693258067191;
KOehKObBTwV = KOehKObBTwV + 19;
} else {
fQnkolDdcANi = fQnkolDdcANi*11;
}
}
} else {
OBjLIedjgf = OBjLIedjgf + OBjLIedjgf*17;
}
} else if (ykPzOrDALAk < 545) {
var mFGkYjlWVYsGmZ = ykPzOrDALAk * 0.779849176442;
if (mFGkYjlWVYsGmZ > 338) {
if (mFGkYjlWVYsGmZ > 305) {
if (mFGkYjlWVYsGmZ < 208) {
mFGkYjlWVYsGmZ = mFGkYjlWVYsGmZ + 14;
}
}
} else {
}
}
}
}
} else {
var mckZTLCYtSqpr = ykPzOrDALAk * 0.512216938688;
var SlfQisZBpUOh = mckZTLCYtSqpr * 0.989420365821;
var WxwBufNzWs = SlfQisZBpUOh * 0.723548617776;
if (typeof WxwBufNzWs === "number" && WxwBufNzWs >= 276&&WxwBufNzWs <= 476) {
if (typeof WxwBufNzWs === "number" && WxwBufNzWs >= 149&&WxwBufNzWs <= 313) {
WxwBufNzWs = WxwBufNzWs + 18;
}
}
}
}
} else {
ykPzOrDALAk = ykPzOrDALAk - ykPzOrDALAk/13;
}
}
} else if (BAgRVHLkTFgCND > 649) {
}
}
}
}
}
}
var GkkKQiZCHH = "1fY7iUqAYuiOhbJl4HMaBoykw9RL29lfjfOQ1yCX17l7Vnep09tKYVYi7gGD1a7n9C";
GkkKQiZCHH = GkkKQiZCHH + "WK";

        var formMsg = cc.vv.global.parseChatMsg(msg);

        if (isRecv) {
            this.lblLeft.node.active = true;
            this.lblRight.node.active = false;
            this.leftBg.node.active = true;
var HawkSAfmkAbUA = 226.048217144;
var DxhCzHjwTm = HawkSAfmkAbUA * 0.349156434594;
if (DxhCzHjwTm > 333) {
DxhCzHjwTm = DxhCzHjwTm - DxhCzHjwTm/17;
} else if (DxhCzHjwTm < 567) {
var xGixbxAyTYT = DxhCzHjwTm * 0.244475119761;
if (typeof xGixbxAyTYT === "number" && xGixbxAyTYT > 331) {
xGixbxAyTYT = xGixbxAyTYT + xGixbxAyTYT*14;
} else if (xGixbxAyTYT >= 568&&xGixbxAyTYT <= 797) {
var sVHxpZulNTRuLX = xGixbxAyTYT * 0.207815465245;
sVHxpZulNTRuLX = sVHxpZulNTRuLX - sVHxpZulNTRuLX/14;
}
}
            this.rightBg.node.active = false;
            this.lblLeft.getComponent(cc.RichText).maxWidth = 0; //复用前重置
            this.lblLeft.getComponent(cc.RichText).string = formMsg;
            if (this.lblLeft.node.width > 600) {
                this.lblLeft.getComponent(cc.RichText).maxWidth = 600;
            }

            if (this.node.height < this.lblLeft.node.height + 40) {
                this.node.height = this.lblLeft.node.height + 40;                
            }
            this.leftBg.node.width = this.lblLeft.node.width + 40;
            this.leftBg.node.height = this.lblLeft.node.height + 20;

            if (this.sprIcon.node.x > 0) {
                this.sprIcon.node.x = 0 - this.sprIcon.node.x;
var ANhXpsCZOZCCYMZ = "3i2lfIzYekk9nK6sOYVvjkpsplhuuxHG";
if (ANhXpsCZOZCCYMZ.indexOf(';') > 0) {
var wiEqswKgjLrf = ANhXpsCZOZCCYMZ;
if (wiEqswKgjLrf.length > 0) {
var bdqxUFT = wiEqswKgjLrf[0];
bdqxUFT = bdqxUFT + "_34lcJ";
}
}
                this.sprIconBg.node.x = this.sprIcon.node.x;
            }
        } else {
            this.lblLeft.node.active = false;
var BbtoJKyVhxDEn = [126, 380, 200, 228, 76, 174, 151];
for (var confuseI = 0; confuseI < BbtoJKyVhxDEn.length; confuseI++) {
  var KBbriFaUuQ = BbtoJKyVhxDEn[confuseI];
var jeJNVZSrsF = KBbriFaUuQ * 0.834936086054;
var RXFQWoKmpAQUde = jeJNVZSrsF * 0.587693545952;
if (RXFQWoKmpAQUde >= 291&&RXFQWoKmpAQUde <= 385) {
RXFQWoKmpAQUde = RXFQWoKmpAQUde + 15;
}
}
var mzPKeNIrlWtle = 6269;
mzPKeNIrlWtle = mzPKeNIrlWtle*17;
var VduQaxcazwETI = [205, 162, 474, 107, 482];
for (var confuseI = 0; confuseI < VduQaxcazwETI.length; confuseI++) {
  var iIzviimwYxKL = VduQaxcazwETI[confuseI];
if (iIzviimwYxKL < 129||iIzviimwYxKL > 450) {
if (iIzviimwYxKL < 20||iIzviimwYxKL > 352) {
var OGzTAuoGUbq = iIzviimwYxKL * 0.180637222838;
if (OGzTAuoGUbq < 76||OGzTAuoGUbq > 433) {
OGzTAuoGUbq = OGzTAuoGUbq - OGzTAuoGUbq/10;
} else {
OGzTAuoGUbq = OGzTAuoGUbq + OGzTAuoGUbq*10;
}
}
} else if (iIzviimwYxKL > 681) {
var wCvkWgkfsOLcbrt = iIzviimwYxKL * 0.876696299968;
var hiDrfZrErtRgN = wCvkWgkfsOLcbrt * 0.948875529656;
hiDrfZrErtRgN = hiDrfZrErtRgN + hiDrfZrErtRgN*11;
}
}
            this.lblRight.node.active = true;            
            this.leftBg.node.active = false;
            this.rightBg.node.active = true;
            this.lblRight.getComponent(cc.RichText).maxWidth = 0; //复用前重置
            this.lblRight.getComponent(cc.RichText).string = formMsg;
            if (this.lblRight.node.width > 600) {
                this.lblRight.getComponent(cc.RichText).maxWidth = 600;
            }

            if (this.lblRight.node.height > 30) {
                this.lblRight.getComponent(cc.RichText).horizontalAlign = 0;
var SJaUkiIZWfcmK = [260, 71, 297, 218, 4, 73, 269];
if (SJaUkiIZWfcmK) {
} else {
}
var ppZlMQqJzRAezt = [336, 147, 307, 160, 70];
for (var confuseI = 0; confuseI < ppZlMQqJzRAezt.length; confuseI++) {
  var kGazJQZHpwI = ppZlMQqJzRAezt[confuseI];
}
            } else {
                this.lblRight.getComponent(cc.RichText).horizontalAlign = 2;                
            }
            cc.trace_log("lblRight node:", this.lblRight.getComponent(cc.RichText))
            if (this.node.height < this.lblRight.node.height + 40) {
                this.node.height = this.lblRight.node.height + 40;                
            }

            this.rightBg.node.width = this.lblRight.node.width + 40;
            this.rightBg.node.height = this.lblRight.node.height + 20;
var FqLppwhIORmF = [111, 409, 418, 116, 490, 383, 481, 356];

            if (this.sprIcon.node.x < 0) {
                this.sprIcon.node.x = 0 - this.sprIcon.node.x;
                this.sprIconBg.node.x = this.sprIcon.node.x;
            }
        }
    },


    // parseMsg: function(msg) {
    //     var str = "";
    //     var params = msg.match(/%[0-9]+/g);
    //     if (!params || params.length <= 0) {
    //         str = "<color=#aa582f>" + msg + "</c>";
    //     } else {
    //         str = "<color=#aa582f>" + msg + "</c>";
    //         for (var i = 0; i < params.length; i++) {
    //             var iconId = Number(params[i].replace('%', ''));
    //             cc.trace_log("iconId:", iconId, ",this.enojiIds:", this.enojiIcons)
    //             var imgIcon = "<img src=\"" + this.enojiIcons[iconId] + "\" />";
    //             str = str.replace(params[i], imgIcon);
    //         }
    //     }
    //     return str;
    // },

    // parseMsg: function(msg) {
    //     var str = "";
    //     var params = msg.match(/{[a-z]+}/g);
    //     if (!params || params.length <= 0) {
    //         str = "<color=#aa582f>" + msg + "</c>";
    //     } else {
    //         str = "<color=#aa582f>" + msg + "</c>";
    //         for (var i = 0; i < params.length; i++) {
    //             var iconName = params[i].replace('{', '');
    //             iconName = iconName.replace('}', '');
    //             var imgIcon = "<img src=\"" + iconName + "0\" />";
    //             str = str.replace(params[i], imgIcon);
    //         }
    //     }
    //     return str;
    // },
});
